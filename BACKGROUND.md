いよいよクラスタリング機能の紹介です。Akkaはクラスタリングによってノードの数を増やし水平スケール出来るところが一番おもしろいと私は思っています。
今まで紹介してきたイベント・ソーシング、CQRSと組み合わせて、アクターをどんどん水平スケール出来るシステムの上で動かせると、
モダンなシステムを構成するのが用意になるでしょう。

水平スケールは主に2つの効果があって:

- 1つはノードの投入台数を増やすことによってスループットを向上させる(同時にさばくユーザー数、リクエスト数を増やす)
- 1つのノードが落ちても他でカバーする対障害性を増す

という点です。AkkaはアクターでもSupervisionの仕組みによって対障害性を持ちますし、イベント・ソーシングでもデータベースなどの永続化層からアクターの内部状態を復旧することで対障害性を増す仕組みをもちます。
これらとクラスタリングによるノード間にまたがる対障害性によって「アクターが内部状態を持つ」という根本的な復旧のしづらさを克服しているのです。

当然、何度も引き合いに出す伝統的な3層アーキテクチャのように、サーバーサードをステートレスにして内部状態を全てデータベースに退避すれば、
そもそもAkkaが取り扱う内部状態によってもたらされる複雑さは発生しません。ステートレスなアーキテクチャで望むシステムが出来上がるならそのほうがよいでしょう。
Akkaは内部状態をもつシステムを作ることで、リアルタイム性もたせ、複雑な処理をより自然な形で実装したいときに用いるのがおすすめです。

